__________________________________
  Revision R1.0 - 02/14/2019 
__________________________________

This is the first package of user elements developed at LBNL which includes documentation, 
examples, and source code for the following elements: 

USER101: 2D thermal element 
USER102: 2D electromagnetic element with optional circuit coupling


__________________________________
  Installation
__________________________________

- to use the elements you will first have to compile a custom version of ANSYS
- the steps to complete this are given in the word document installation_instructions


__________________________________
  Documentation
__________________________________

- an engineering note with documentation for each user element is found in the documentation directory 
  and describes the element properties, formulation, and use


__________________________________
  Verification and Benchmarking
__________________________________

- the results of two verification studies are given
- the first is a comparison of IFCC behavior for a single strand in changing background field
  to analytic expectations
- the second is an extensive verification study comparing the user elements to a similar 
  implementation in COMSOL with the help of CERN (as part of the STEAM project)
- the input for the tests used in these verification studies can also be found in the examples directory


__________________________________
  Important Limitations
__________________________________

- the user element is not yet compatible with degenerate elements (quad only)
- it is recommended to use the user element only in the conductor regions and default (PLANE53 or PLANE73) in all other regions
- axisymmetric elements are not yet included (if interested they can be obtained by request with minimal documentation)
- not yet adapted for use with more than 1 processor (SMP-1)


__________________________________
  Examples
__________________________________

- NOTE: the time stepping and mesh density in these examples were not optimized for accuracy and speed,
  and as a result of using for a comparison study are most likely much too fine. When adapting an example 
  to your needs, I highly recommend a mesh refinement and time stepping study. In addition, the examples using
  the Multi-field solver use a single stagger iteration step with no load relaxation. This was chosen to 
  avoid previous issues with passing of variables which have since been resolved. I recommended exploring different
  stagger step sizes and maximum iterations, as this is most likely a route to faster, more accurate simulations. 

- Test_sw01
  - a single wire is placed in a background ramped at a constant rate of change
	- this input is identical to that used in the verification note 
	  "verification_IFCC_single_wire_R1" in the benchmarking directory
	- to run, launch the custom ANSYS.exe in this directory and run the input "001_swire_test01"
	- a matlab script is included which compares results for IFCC magnetization to expected behavior  

- comsol_comparison
  - the tests used in the verification study with CERN are shared, these are found documented in 
    the engineering note "verification_COMSOL_comparison_R1" in the benchmarking directory
  - some tests are duplicated with a "_CC" labeling, this is a second test with circuit coupling
    rather than current density loading
  - in the plotting routines, the "write_trans_elem_res" script needs to skip a different number of lines
    based on whether the output was generated by running ANSYS in the GUI or by batch, for the GUI the 
    second input on the readData function should be 6 for 6 skipped lines, or 14 if run in batch
    I believe most of the plotting routines are set up for batch except for Test4E,Test5D,Test6B
  - peak hotspot temperature is obtained only when running through the GUI because it uses plnsol,max
    this is important for Test4E, Test5D, and Test6B -> you can still solve in batch, but must re-run
    the postprocessing in the GUI (there is a finish.txt which will do this if resume the jobname)
  - if you would like to run in batch I included 3 batch scripts which call the tests after you set the 
    location of the test directories and your custom ANSYS.exe, to use them first rename with a .bat extension
		
		
__________________________________
  Use
__________________________________

- we would appreciate being kind enough to share bugs or improvements with us (lnbrouwer@lbl.gov)
- please take the time to review the license agreement as it is important to our sponsors


__________________________________
  References 
__________________________________

L. Brouwer, D. Arbelaez, B. Auchmann, L. Bortot, and E. Stubberud, "User Defined
Elements in ANSYS for 2D Multiphysics Modeling of Superconducting Magnets," 2019,
submitted to Superconductor Science and Technology.





*** Copyright Notice ***

SCPACK vR1.0 Copyright (c) 2019, The Regents of the University of California, through Lawrence Berkeley National Laboratory (subject to receipt of any required approvals from the U.S. Dept. of Energy). All rights reserved.

If you have questions about your rights to use or distribute this software, please contact Berkeley Lab's Intellectual Property Office at IPO@lbl.gov.

NOTICE. This Software was developed under funding from the U.S. Department of Energy and the U.S. Government consequently retains certain rights. As such, the U.S. Government has been granted for itself and others acting on its behalf a paid-up, nonexclusive, irrevocable, worldwide license in the Software to reproduce, distribute copies to the public, prepare derivative works, and perform publicly and display publicly, and to permit other to do so.

